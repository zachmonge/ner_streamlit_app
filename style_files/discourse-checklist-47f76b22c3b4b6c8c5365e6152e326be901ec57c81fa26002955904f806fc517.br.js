define("discourse/plugins/discourse-checklist/lib/discourse-markdown/checklist",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.setup=function(e){e.registerOptions(function(e,n){e.features.checklist=!!n.checklist_enabled}),e.whiteList(["span.chcklst-stroked","span.chcklst-box fa fa-square-o fa-fw","span.chcklst-box checked fa fa-check-square-o fa-fw","span.chcklst-box checked permanent fa fa-check-square fa-fw"]),e.registerPlugin(function(e){return e.core.ruler.push("checklist",n)})};var a=/\[(\s?|x|X)\]/g;function o(e,n,c,t){var i=function(e){switch(e){case"x":return"checked fa fa-check-square-o fa-fw";case"X":return"checked permanent fa fa-check-square fa-fw";default:return"fa fa-square-o fa-fw"}}(c[1]),s=new t.Token("check_open","span",1);s.attrs=[["class","chcklst-box "+i]],e.push(s);var r=new t.Token("check_close","span",-1);e.push(r)}function u(e,n){for(var c=void 0,t=null,i=0;c=a.exec(e);){if(c.index>i){t=t||[];var s=new n.Token("text","",0);s.content=e.slice(i,c.index),t.push(s)}i=c.index+c[0].length,o(t=t||[],0,c,n)}if(t&&i<e.length){var r=new n.Token("text","",0);r.content=e.slice(i),t.push(r)}return t}function n(e){var n,c,t,i,s,r=e.tokens,a=0;for(c=0,t=r.length;c<t;c++)if("inline"===r[c].type)for(n=(i=r[c].children).length-1;0<=n;n--)if(a+=(s=i[n]).nesting,"text"===s.type&&0===a){var o=u(s.content,e);o&&(r[c].children=i=e.md.utils.arrayReplaceAt(i,n,o))}}}),define("discourse/plugins/discourse-checklist/discourse/initializers/checklist",["exports","discourse/lib/plugin-api","discourse/lib/ajax","discourse-common/lib/icon-library"],function(e,n,t,i){"use strict";function c(e,n){if(n){var c=e.find(".chcklst-box"),o=n.widget,u=n.getModel();u.can_edit&&(c.each(function(a,e){$(e).click(function(e){var n=$(e.currentTarget);if(!n.hasClass("permanent")){var r=n.hasClass("checked")?"[ ]":"[x]";n.after((0,i.iconHTML)("spinner",{class:"fa-spin"})).hide(),(0,t.ajax)("/posts/"+u.id,{type:"GET",cache:!1}).then(function(c){var t=[];[/`[^`\n]*\n?[^`\n]*`/gm,/^```[^]*?^```/gm,/\[code\][^]*?\[\/code\]/gm,/_(?=\S).*?\S_/gm,/~~(?=\S).*?\S~~/gm].forEach(function(e){for(var n=void 0;null!=(n=e.exec(c.raw));)t.push([n.index,n.index+n[0].length])}),[/([^\[\n]|^)\*\S.+?\S\*(?=[^\]\n]|$)/gm].forEach(function(e){for(var n=void 0;null!=(n=e.exec(c.raw));)t.push([n.index+1,n.index+n[0].length])});var i=-1,s=!1,e=c.raw.replace(/\[(\s|\_|\-|\x|\\?\*)?\]/gi,function(n,e,c){return!s&&(i+=t.every(function(e){return e[0]>=c+n.length||c>e[1]}))===a?(s=!0,r):n}),n=u.save({raw:e,edit_reason:I18n.t("checklist.edit_reason")});n&&n.then&&n.then(function(){o.attrs.isSaving=!1,o.scheduleRerender()})})}})}),c.css({cursor:"pointer"}))}}Object.defineProperty(e,"__esModule",{value:!0}),e.checklistSyntax=c,e.default={name:"checklist",initialize:function(){(0,n.withPluginApi)("0.1",function(e){var n;(n=e).container.lookup("site-settings:main").checklist_enabled&&n.decorateCooked(c,{id:"checklist"})})}}});
//# sourceMappingURL=https://sjc3.discourse-cdn.com/business7/assets/plugins/discourse-checklist-47f76b22c3b4b6c8c5365e6152e326be901ec57c81fa26002955904f806fc517.js.map